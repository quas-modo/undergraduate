<!-- build time:Tue Oct 11 2022 19:29:25 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Carpe diem" href="https://quas-modo.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="Carpe diem" href="https://quas-modo.github.io/atom.xml"><link rel="alternate" type="application/json" title="Carpe diem" href="https://quas-modo.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="计组"><link rel="canonical" href="https://quas-modo.github.io/2022/10/04/COA/Lecture050607-%E6%95%B4%E6%95%B0%E8%BF%90%E7%AE%97/"><title>Lecture050607-整数运算 - 计算机组成与结构 - NJUSE | quas-modo = Carpe diem = pluck the day</title><meta name="generator" content="Hexo 5.4.2"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Lecture050607-整数运算</h1><div class="meta"><span class="item" title="创建时间：2022-10-04 21:32:43"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-10-04T21:32:43+08:00">2022-10-04</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>9.9k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>9 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">quas-modo</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipeuv80yoj20zk0m8kjl.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giciuja1j1j20zk0m8kjl.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giph4lm9i7j20zk0m84qp.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipev1x5e4j20zk0m8b29.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclh3brzpj20zk0m8ann.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclj9410cj20zk0m8h12.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/NJUSE/" itemprop="item" rel="index" title="分类于 NJUSE"><span itemprop="name">NJUSE</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/NJUSE/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E4%B8%8E%E7%BB%93%E6%9E%84/" itemprop="item" rel="index" title="分类于 计算机组成与结构"><span itemprop="name">计算机组成与结构</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://quas-modo.github.io/2022/10/04/COA/Lecture050607-%E6%95%B4%E6%95%B0%E8%BF%90%E7%AE%97/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="quas-modo"><meta itemprop="description" content="pluck the day, notes/thoughts/nonsense"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Carpe diem"></span><div class="body md" itemprop="articleBody"><p>整数的加减乘除计算的实现。<br><span id="more"></span></p><h1 id="整数运算"><a class="anchor" href="#整数运算">#</a> 整数运算</h1><h2 id="算术逻辑单元alu"><a class="anchor" href="#算术逻辑单元alu">#</a> 算术逻辑单元 ALU</h2><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMDEyMjYwNTMucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004201226053.png</span>&quot; alt=&quot;image-20221004201226053&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>寄存器存储数据、结果、flags</p><p>控制器控制 ALU 操作和数据传入的信号</p><h2 id="全加器"><a class="anchor" href="#全加器">#</a> 全加器</h2><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMDEzMjkyMjAucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004201329220.png</span>&quot; alt=&quot;image-20221004201329220&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p><strong>关注与或异或的符号</strong></p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMDE0MjY4MjAucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004201426820.png</span>&quot; alt=&quot;image-20221004201426820&quot; style=&quot;zoom:50%;&quot; &gt;</p><p><strong>计算结果和进位</strong></p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMDE1MzYzMTMucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004201536313.png</span>&quot; alt=&quot;image-20221004201536313&quot; style=&quot;zoom: 50%;&quot;&gt;</p><p>F 可以理解为，是奇数个 1 的时候，结果为 1；是偶数个 1 的时候，结果为 0。</p><p>进位则是，有两个 1 的时候即可进位。</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMDIzMTg1NTcucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004202318557.png</span>&quot; alt=&quot;image-20221004202318557&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>异或门只能有<strong>两个</strong>输入端，异或门的时延<strong>不一定为 3ty</strong>。</p><p>在网上找了一些实现异或的方法，可以看出，时延可以是 2ty 也可以是 3ty，应该是由异或门实现的方式决定的。</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly93d3cuZWxlY3Ryb25pY3MtdHV0b3JpYWxzLndzL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE4LzA1L2xvZ2ljLWxvZzI5LmdpZg==">https://www.electronics-tutorials.ws/wp-content/uploads/2018/05/logic-log29.gif</span>&quot; alt=&quot;logic equivalent&quot; &gt;</p><p><img data-src="https://www.electronics-tutorials.ws/wp-content/uploads/2018/05/logic-log30.gif" alt="implimentation using NAND"></p><p>非门算不算时延？ <strong>非门算时延</strong></p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMDI0MzEwNDEucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004202431041.png</span>&quot; alt=&quot;image-20221004202431041&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>减少了一个与门，但是时延仍然是 6ty</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMDI2MjIwOTQucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004202622094.png</span>&quot; alt=&quot;image-20221004202622094&quot; style=&quot;zoom:50%;&quot; &gt;</p><p>这里可以解释为，因为 X 和 Y 的或和异或仅在 X、Y 均为 1 时不同，但 X、Y 均为 1 时，前面的与为 1，并不影响结果，所以两个式子相等。</p><h2 id="串行进位行波进位加法器"><a class="anchor" href="#串行进位行波进位加法器">#</a> 串行进位（行波进位）加法器</h2><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMDMyNTc5MzQucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004203257934.png</span>&quot; alt=&quot;image-20221004203257934&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>公式来源于前面的全加法器，理解一样。</p><p>需要等待 “进位输出信号”，所以缺点是延迟慢。</p><h2 id="全先行进位加法器"><a class="anchor" href="#全先行进位加法器">#</a> 全先行进位加法器</h2><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMDM4NDAwNzgucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004203840078.png</span>&quot; alt=&quot;image-20221004203840078&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMDM4NTE0NTEucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004203851451.png</span>&quot; alt=&quot;image-20221004203851451&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>不需要等待 n-1 位算完，就可以开始计算第 n 位，把能计算的先提前计算好。</p><p>1ty：Gi 和 Pi 的计算，Gi 和 Pi 的计算可以同时进行，只需要 1ty</p><p>2ty：计算 C 的值，因为需要先进行与操作，再进行或操作，所以需要 2ty，因为 Ci 只和 P\G\C0 的值有关，所以不需要等前一位的进位算好。</p><p>3ty：Xi 和 Yi 的异或可在前三个时延做好，只需要再和 Ci-1 做异或即可算出 F。</p><h2 id="部分先行进位加法器"><a class="anchor" href="#部分先行进位加法器">#</a> 部分先行进位加法器</h2><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMDUwMjA5NzMucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004205020973.png</span>&quot; alt=&quot;image-20221004205020973&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>加法器延迟过于严重，但是全先行进位又难以实现，所以采用了两者的混合杂交。</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMDUwMzM4NjcucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004205033867.png</span>&quot; alt=&quot;image-20221004205033867&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>3ty：第一个全先行加法器需要算出 G、P，耗时 1ty；然后需要算出所有的进位，耗时 2ty；与此同时，其他三个 CLA 也算好了自己的 G 和 P。</p><p>2ty：第二个 CLA 收到 Cin 之后，需要 2ty 计算 Cout。</p><p>2ty：同上，为第三个 CLA 的计算。</p><p>5ty：2ty+3ty，第四个 CLA 计算 C 需要 2ty，然后再和 X、Y 进行异或操作，需要 3ty。在此之前，其余的 CLA 已经完成了异或计算。</p><h2 id="加法"><a class="anchor" href="#加法">#</a> 加法</h2><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMDUwNTI0ODkucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004205052489.png</span>&quot; alt=&quot;image-20221004205052489&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>溢出的情况只能是两个正的变成负的，或者两个负的变成正的。</p><table><thead><tr><th>Xn</th><th>Yn</th><th>C</th><th>Fn</th><th>overflow</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td><td>0</td><td>不溢出</td></tr><tr><td><strong>0</strong></td><td><strong>0</strong></td><td><strong>1</strong></td><td><strong>1</strong></td><td><strong>溢出</strong></td></tr><tr><td>0</td><td>1</td><td>0</td><td>1</td><td>不溢出</td></tr><tr><td>0</td><td>1</td><td>1</td><td>0</td><td>不溢出</td></tr><tr><td>1</td><td>0</td><td>0</td><td>0</td><td>不溢出</td></tr><tr><td>1</td><td>0</td><td>1</td><td>0</td><td>不溢出</td></tr><tr><td><strong>1</strong></td><td><strong>1</strong></td><td><strong>0</strong></td><td><strong>0</strong></td><td><strong>溢出</strong></td></tr><tr><td>1</td><td>1</td><td>1</td><td>1</td><td>不溢出</td></tr></tbody></table><p>判断是否溢出的 flag 就是在 Cn-1 和 Cn 上加一个异或器</p><table><thead><tr><th>Xn</th><th>Yn</th><th>Cn-1</th><th>Cn</th><th>overflow</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td><td>0</td><td>不溢出</td></tr><tr><td><strong>0</strong></td><td><strong>0</strong></td><td><strong>1</strong></td><td><strong>0</strong></td><td><strong>溢出</strong></td></tr><tr><td>0</td><td>1</td><td>0</td><td>0</td><td>不溢出</td></tr><tr><td>0</td><td>1</td><td>1</td><td>1</td><td>不溢出</td></tr><tr><td>1</td><td>0</td><td>0</td><td>0</td><td>不溢出</td></tr><tr><td>1</td><td>0</td><td>1</td><td>1</td><td>不溢出</td></tr><tr><td><strong>1</strong></td><td><strong>1</strong></td><td><strong>0</strong></td><td><strong>1</strong></td><td><strong>溢出</strong></td></tr><tr><td>1</td><td>1</td><td>1</td><td>1</td><td>不溢出</td></tr></tbody></table><h2 id="减法"><a class="anchor" href="#减法">#</a> 减法</h2><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMTI0MjI2MzMucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004212422633.png</span>&quot; alt=&quot;image-20221004212422633&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>减法就是在加法器上加一个选择器，sub 给一个信号</p><h2 id="乘法"><a class="anchor" href="#乘法">#</a> 乘法</h2><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMTI2MDAwODkucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004212600089.png</span>&quot; alt=&quot;image-20221004212600089&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>实际上，加法和移位可以合并，因为始终上升沿到来之前，各寄存器中的数据会被取出，因此不需要 2-3 个时钟周期，1 个时钟周期即可完成。</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMTI2Mzc5MzkucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004212637939.png</span>&quot; alt=&quot;image-20221004212637939&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMTI2NDcwMzcucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004212647037.png</span>&quot; alt=&quot;image-20221004212647037&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>由于乘法会出现溢出的问题，所以出现了原码一位乘法和布斯算法。</p><h3 id="原位一位乘法"><a class="anchor" href="#原位一位乘法">#</a> 原位一位乘法</h3><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDkyMzMyNTgyNjIucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221009233258262.png</span>&quot; alt=&quot;image-20221009233258262&quot; style=&quot;zoom:25%;&quot; &gt;</p><h3 id="补码一位乘法布斯算法"><a class="anchor" href="#补码一位乘法布斯算法">#</a> 补码一位乘法：布斯算法</h3><h4 id="基本思路和证明"><a class="anchor" href="#基本思路和证明">#</a> 基本思路和证明</h4><p>每次根据两位决定直接移位 / 加 / 减（共四种情况）</p><ol><li>00、11—— 直接移位</li><li><strong>10</strong> —— 减</li><li><strong>01</strong> —— 加</li></ol><h4 id="黑书证明"><a class="anchor" href="#黑书证明">#</a> 黑书证明</h4><p>用 **2 <sup>n</sup> + 2 <sup>n-1</sup> + ... + 2 <sup>n-k</sup> = 2 <sup>n+1</sup> - 2 <sup>n-k</sup>** 可以表示正乘数和负乘数</p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221009234843548.png" alt="image-20221009234843548"></p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221009235208579.png" alt="image-20221009235208579"></p><h4 id="ppt证明"><a class="anchor" href="#ppt证明">#</a> PPT 证明</h4><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMTI3NTE2NjgucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004212751668.png</span>&quot; alt=&quot;image-20221004212751668&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>为什么可以这样用布斯算法计算？</p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/6D18DEB3A3D802AB3B7AE9DB900A475C.png" alt="img">&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMTI4MDc5MTkucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004212807919.png</span>&quot; alt=&quot;image-20221004212807919&quot; style=&quot;zoom: 25%;&quot; &gt;</p><h4 id="易错点算数移位"><a class="anchor" href="#易错点算数移位">#</a> 易错点：算数移位</h4><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMTI4MjkyNTMucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004212829253.png</span>&quot; alt=&quot;image-20221004212829253&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMTI4Mzg2NTUucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004212838655.png</span>&quot; alt=&quot;image-20221004212838655&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>错误原因：补位负数补 1，不论是何种情况，右移都使得 A 的最左位，即 A<sub>n-1</sub> 不仅移入 A<sub>n-2</sub> 中，而且还保留在 A<sub>n-1</sub> 中。这是为了保持 A 和 Q 中数的符号，因为它<strong>保留了符号位</strong>，所以被称为<strong>算数移位</strong>。</p><p>实际上，根据黑书，应该还有一位 Q<sub>-1</sub> 寄存器，放在 Q 最低有效位的右边，负责保存丢失的那位。</p><h3 id="乘法溢出"><a class="anchor" href="#乘法溢出">#</a> 乘法溢出</h3><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDQyMTI5MTUxMDYucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221004212915106.png</span>&quot; alt=&quot;image-20221004212915106&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>带符号整数：因为乘法的补位是根据当前最高位计算的，如果有变化，则说明有溢出</p><p>无符号整数：无符号整数应该没有 1 的出现</p><h2 id="除法"><a class="anchor" href="#除法">#</a> 除法</h2><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNjI5NTU1NTEucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006162955551.png</span>&quot; alt=&quot;image-20221006162955551&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>不同的高级算法对于 1/0 0/0 的计算结果处理是不同的</p><p>如在 js 中，1/0 为正无穷；c 中会报错</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNjI5MzgyMjIucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006162938222.png</span>&quot; alt=&quot;image-20221006162938222&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>在十进制除法中，需要用到乘法；在二进制中则不需要。</p><p>除数和被除数符号不一样时，不同的编程语言也会得到不一样的答案。</p><p>注意补齐被除数的符号位，从<strong>次高位</strong>开始计算。</p><h3 id="除法器"><a class="anchor" href="#除法器">#</a> 除法器</h3><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNzIxMjM4NDcucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006172123847.png</span>&quot; alt=&quot;image-20221006172123847&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>对应于手工进行除法运算，</p><p>因为需要补全被除数的位数，所以需要 2n 寄存器；</p><p>因为除数相对于被除数的次高位开始移动，所以需要 2n 位支持右移的寄存器；</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNzIxNDAyMDQucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006172140204.png</span>&quot; alt=&quot;image-20221006172140204&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNjQ0MzczNzQucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006164437374.png</span>&quot; alt=&quot;image-20221006164437374&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>除法流程图 —— “是否为第<strong> N+1</strong> 次循环”</p><p>和乘法不同 ——<strong>N</strong> 次循环</p><p><strong>如何做优化？</strong></p><p>常见的思路 —— 并行操作 / 硬件节省</p><blockquote><p>不能够做并行操作</p><p>可以做一些硬件的优化</p></blockquote><h3 id="优化的除法器"><a class="anchor" href="#优化的除法器">#</a> 优化的除法器</h3><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNzIyMDA1MDQucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006172200504.png</span>&quot; alt=&quot;image-20221006172200504&quot; style=&quot;zoom: 25%;&quot; &gt;</p><h3 id="异号的除法如何处理"><a class="anchor" href="#异号的除法如何处理">#</a> 异号的除法如何处理？</h3><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNzIyMzE1MzQucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006172231534.png</span>&quot; alt=&quot;image-20221006172231534&quot; style=&quot;zoom: 25%;&quot; &gt;&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNzE4MjMxODYucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006171823186.png</span>&quot; alt=&quot;image-20221006171823186&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>结果都是<strong>和余数进行比较</strong>，操作之后，如果相对于余数的符号改变，则不够；如果相对于余数的符号不变，则够。</p><p>例子：</p><p>可以对照上下（36、37）两张图理解异号的除法，</p><p>被除数为 11111001，它的值为 - 7</p><ol><li>1111 + 0011 为 10010 符号改变</li><li>1110 + 0011 为 10001 符号改变</li><li>1100 + 0011 为 1111 符号不变，且绝对值减小，因此可以加，且商上 1</li><li>1111 + 0011 符号改变</li></ol><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMTAwMDMwMDE4NTgucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221010003001858.png</span>&quot; alt=&quot;image-20221010003001858&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>参考黑书的话，</p><p>余数的符号 = 被除数</p><p>商的符号 = 被除数 * 除数</p><p>因此，此题中，商和余数都需要取负数，所以商要取补码</p><h3 id="补码除法运算过程"><a class="anchor" href="#补码除法运算过程">#</a> 补码除法运算过程</h3><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNzIyNDcxMDcucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006172247107.png</span>&quot; alt=&quot;image-20221006172247107&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNzIzMDY5MTMucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006172306913.png</span>&quot; alt=&quot;image-20221006172306913&quot; style=&quot;zoom: 25%;&quot; &gt;</p><h3 id="不恢复余数除法"><a class="anchor" href="#不恢复余数除法">#</a> 不恢复余数除法</h3><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNzI0MjY0NjIucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006172426462.png</span>&quot; alt=&quot;image-20221006172426462&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>可以参考之前的恢复余数的操作理解</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNzIzMDY5MTMucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006172306913.png</span>&quot; alt=&quot;image-20221006172306913&quot; style=&quot;zoom: 20%;&quot; &gt;</p><p>如何理解大致思路：</p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/4C93EBA825F2B3B083A9B5CC5D1E567D.png" alt="img"></p><p>由下面的通式表示：</p><p><strong>ri+1=2ri+(1-2Qi)Y</strong></p><blockquote><p>式中 Qi 为第 i 次所得的商，若部分余数为正，则 Qi=1，部分余数左移一位，下一次继续减除数；若部分余数为负，则 Qi=0，部分余数左移一位，下一次加除数。由于加减运算交替地进行，故称为原码加减交替法。</p></blockquote><h3 id="补码不恢复余数除法流程图"><a class="anchor" href="#补码不恢复余数除法流程图">#</a> 补码不恢复余数除法流程图</h3><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNzI2NDYzODEucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006172646381.png</span>&quot; alt=&quot;image-20221006172646381&quot; style=&quot;zoom: 25%;&gt;</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNzI2NTgwOTYucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006172658096.png</span>&quot; alt=&quot;image-20221006172658096&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>同号说明 “够大”，异号说明 “不够大”</p><p>注意不恢复余数补码除法分为两个流程，首先需要判断符号然后初始化。</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNzI4NTQ4MzUucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006172854835.png</span>&quot; alt=&quot;image-20221006172854835&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p><strong>计算流程</strong>理解：</p><p>流程一：因为余数和除数异号，所以采用加的方式。加完后发现同号（实际上是由异号变为同号），补 1，实际上是取反的操作。</p><p>流程二：根据 X 和 Y 是否同号，继续操作。</p><p><strong>关于商的修正</strong>：</p><p>Z 左移一位，根据是否够加，上 1 或 0。</p><p>如果被除数和除数异号，说明商是负数。在求每一位的时候，已经取了反，因此再加 1 即可。这样的操作，比最后再计算商的总体的补码简单。</p><p><strong>关于余数的修正</strong>：</p><p>余数和被除数的符号相同。</p><p>如果符号不同，则说明余数多加 / 多减了一个除数。如果被除数和除数的符号相同，说明余数和除数符号不相同，加上除数进行修正；如果被除数和除数符号不同，说明余数和除数符号相同，减去除数进行修正。</p><p>在最后多加了一个 Y</p><p>符号位，不恢复余数补码除法运算和除数比，恢复的和被除数相比</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNzUxMTgzMDkucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006175118309.png</span>&quot; alt=&quot;image-20221006175118309&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>因为除法器效率不高，所以用右移运算实现简化</p><p>能整除的时候，被移除的全为 0；</p><p>不能整除的时候，移除的数存在非 0，</p><p>-14/4 负数补位 1</p><h3 id="阵列除法器"><a class="anchor" href="#阵列除法器">#</a> 阵列除法器</h3><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNzU2MjcxMzYucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006175627136.png</span>&quot; alt=&quot;image-20221006175627136&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>实际生活中并不是斜着排列的</p><h2 id="总结"><a class="anchor" href="#总结">#</a> 总结</h2><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9xdWFzZG8ub3NzLWNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbS9pbWcvaW1hZ2UtMjAyMjEwMDYxNzU3MTExMjcucG5n">https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/image-20221006175711127.png</span>&quot; alt=&quot;image-20221006175711127&quot; style=&quot;zoom: 25%;&quot; &gt;</p><p>全加器是两个半加器组合起来的，半加器不考虑进位。</p><p>全加器算了两次 X+Y：第一次 X+Y 得到 Z，第二次 Z+Cin 得到结果。</p><p>注意各整数运算的优化过程</p><div class="tags"><a href="/tags/%E8%AE%A1%E7%BB%84/" rel="tag"><i class="ic i-tag"></i> 计组</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2022-10-11 19:24:12" itemprop="dateModified" datetime="2022-10-11T19:24:12+08:00">2022-10-11</time> </span><span id="2022/10/04/COA/Lecture050607-整数运算/" class="item leancloud_visitors" data-flag-title="Lecture050607-整数运算" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.jpg" alt="quas-modo 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.jpg" alt="quas-modo 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="quas-modo 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>quas-modo <i class="ic i-at"><em>@</em></i>Carpe diem</li><li class="link"><strong>本文链接：</strong> <a href="https://quas-modo.github.io/2022/10/04/COA/Lecture050607-%E6%95%B4%E6%95%B0%E8%BF%90%E7%AE%97/" title="Lecture050607-整数运算">https://quas-modo.github.io/2022/10/04/COA/Lecture050607-整数运算/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2022/10/04/cpp/Lecture07-%E5%87%BD%E6%95%B0%E3%80%81%E7%A8%8B%E5%BA%8F%E7%BB%84%E7%BB%87/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipew28b65j20zk0m8hdt.jpg" title="Lecture07-程序组织"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> cpp</span><h3>Lecture07-程序组织</h3></a></div><div class="item right"><a href="/2022/10/07/internet-computer/Lecture02-%E7%89%A9%E7%90%86%E5%B1%82/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipexe4oykj20zk0m87ji.jpg" title="Lecture02-物理层"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 互联网计算</span><h3>Lecture02-物理层</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B4%E6%95%B0%E8%BF%90%E7%AE%97"><span class="toc-number">1.</span> <span class="toc-text">整数运算</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E9%80%BB%E8%BE%91%E5%8D%95%E5%85%83alu"><span class="toc-number">1.1.</span> <span class="toc-text">算术逻辑单元 ALU</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%8A%A0%E5%99%A8"><span class="toc-number">1.2.</span> <span class="toc-text">全加器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%B2%E8%A1%8C%E8%BF%9B%E4%BD%8D%E8%A1%8C%E6%B3%A2%E8%BF%9B%E4%BD%8D%E5%8A%A0%E6%B3%95%E5%99%A8"><span class="toc-number">1.3.</span> <span class="toc-text">串行进位（行波进位）加法器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%85%88%E8%A1%8C%E8%BF%9B%E4%BD%8D%E5%8A%A0%E6%B3%95%E5%99%A8"><span class="toc-number">1.4.</span> <span class="toc-text">全先行进位加法器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%83%A8%E5%88%86%E5%85%88%E8%A1%8C%E8%BF%9B%E4%BD%8D%E5%8A%A0%E6%B3%95%E5%99%A8"><span class="toc-number">1.5.</span> <span class="toc-text">部分先行进位加法器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A0%E6%B3%95"><span class="toc-number">1.6.</span> <span class="toc-text">加法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%8F%E6%B3%95"><span class="toc-number">1.7.</span> <span class="toc-text">减法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%98%E6%B3%95"><span class="toc-number">1.8.</span> <span class="toc-text">乘法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E4%BD%8D%E4%B8%80%E4%BD%8D%E4%B9%98%E6%B3%95"><span class="toc-number">1.8.1.</span> <span class="toc-text">原位一位乘法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A5%E7%A0%81%E4%B8%80%E4%BD%8D%E4%B9%98%E6%B3%95%E5%B8%83%E6%96%AF%E7%AE%97%E6%B3%95"><span class="toc-number">1.8.2.</span> <span class="toc-text">补码一位乘法：布斯算法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF%E5%92%8C%E8%AF%81%E6%98%8E"><span class="toc-number">1.8.2.1.</span> <span class="toc-text">基本思路和证明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%91%E4%B9%A6%E8%AF%81%E6%98%8E"><span class="toc-number">1.8.2.2.</span> <span class="toc-text">黑书证明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ppt%E8%AF%81%E6%98%8E"><span class="toc-number">1.8.2.3.</span> <span class="toc-text">PPT 证明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%93%E9%94%99%E7%82%B9%E7%AE%97%E6%95%B0%E7%A7%BB%E4%BD%8D"><span class="toc-number">1.8.2.4.</span> <span class="toc-text">易错点：算数移位</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%98%E6%B3%95%E6%BA%A2%E5%87%BA"><span class="toc-number">1.8.3.</span> <span class="toc-text">乘法溢出</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%A4%E6%B3%95"><span class="toc-number">1.9.</span> <span class="toc-text">除法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%A4%E6%B3%95%E5%99%A8"><span class="toc-number">1.9.1.</span> <span class="toc-text">除法器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%8C%96%E7%9A%84%E9%99%A4%E6%B3%95%E5%99%A8"><span class="toc-number">1.9.2.</span> <span class="toc-text">优化的除法器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E5%8F%B7%E7%9A%84%E9%99%A4%E6%B3%95%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86"><span class="toc-number">1.9.3.</span> <span class="toc-text">异号的除法如何处理？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A5%E7%A0%81%E9%99%A4%E6%B3%95%E8%BF%90%E7%AE%97%E8%BF%87%E7%A8%8B"><span class="toc-number">1.9.4.</span> <span class="toc-text">补码除法运算过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E6%81%A2%E5%A4%8D%E4%BD%99%E6%95%B0%E9%99%A4%E6%B3%95"><span class="toc-number">1.9.5.</span> <span class="toc-text">不恢复余数除法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A5%E7%A0%81%E4%B8%8D%E6%81%A2%E5%A4%8D%E4%BD%99%E6%95%B0%E9%99%A4%E6%B3%95%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-number">1.9.6.</span> <span class="toc-text">补码不恢复余数除法流程图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B5%E5%88%97%E9%99%A4%E6%B3%95%E5%99%A8"><span class="toc-number">1.9.7.</span> <span class="toc-text">阵列除法器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.10.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2022/09/08/COA/Lecture01-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/" rel="bookmark" title="Lecture01-计算机系统概述">Lecture01-计算机系统概述</a></li><li><a href="/2022/09/15/COA/Lecture02-%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" rel="bookmark" title="Lecture02-计算机体系结构的问题及解决方案">Lecture02-计算机体系结构的问题及解决方案</a></li><li><a href="/2022/09/23/COA/Lecture03-04-%E6%95%B0%E6%8D%AE%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E8%A1%A8%E7%A4%BA/" rel="bookmark" title="Lecture03 04-数据的机器级表表示">Lecture03 04-数据的机器级表表示</a></li><li class="active"><a href="/2022/10/04/COA/Lecture050607-%E6%95%B4%E6%95%B0%E8%BF%90%E7%AE%97/" rel="bookmark" title="Lecture050607-整数运算">Lecture050607-整数运算</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="quas-modo" data-src="/images/avatar.jpg"><p class="name" itemprop="name">quas-modo</p><div class="description" itemprop="description">notes/thoughts/nonsense</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">20</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">10</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">6</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3F1YXMtbW9kbw==" title="https:&#x2F;&#x2F;github.com&#x2F;quas-modo"><i class="ic i-github"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2022/10/04/cpp/Lecture07-%E5%87%BD%E6%95%B0%E3%80%81%E7%A8%8B%E5%BA%8F%E7%BB%84%E7%BB%87/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2022/10/07/internet-computer/Lecture02-%E7%89%A9%E7%90%86%E5%B1%82/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E4%B8%93%E4%B8%9A%E4%B9%A6%E7%B1%8D/" title="分类于 专业书籍">专业书籍</a> <i class="ic i-angle-right"></i> <a href="/categories/%E4%B8%93%E4%B8%9A%E4%B9%A6%E7%B1%8D/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/" title="分类于 计算机网络自顶向下">计算机网络自顶向下</a></div><span><a href="/2022/09/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/Lecture04-%E7%BD%91%E7%BB%9C%E5%B1%82%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%B9%B3%E9%9D%A2/" title="Lecture04-网络层：数据平面">Lecture04-网络层：数据平面</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E4%B8%93%E4%B8%9A%E4%B9%A6%E7%B1%8D/" title="分类于 专业书籍">专业书籍</a> <i class="ic i-angle-right"></i> <a href="/categories/%E4%B8%93%E4%B8%9A%E4%B9%A6%E7%B1%8D/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/" title="分类于 计算机网络自顶向下">计算机网络自顶向下</a></div><span><a href="/2022/09/09/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/Lecture01/" title="Lecture01">Lecture01</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/NJUSE/" title="分类于 NJUSE">NJUSE</a> <i class="ic i-angle-right"></i> <a href="/categories/NJUSE/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E4%B8%8E%E7%BB%93%E6%9E%84/" title="分类于 计算机组成与结构">计算机组成与结构</a></div><span><a href="/2022/10/04/COA/Lecture050607-%E6%95%B4%E6%95%B0%E8%BF%90%E7%AE%97/" title="Lecture050607-整数运算">Lecture050607-整数运算</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/NJUSE/" title="分类于 NJUSE">NJUSE</a> <i class="ic i-angle-right"></i> <a href="/categories/NJUSE/cpp/" title="分类于 cpp">cpp</a></div><span><a href="/2022/09/21/cpp/Lecture04-%E7%AC%AC%E4%B8%80%E6%AC%A1cpp%E7%BC%96%E7%A8%8B/" title="Lecture04-第一次cpp编程">Lecture04-第一次cpp编程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%9D%82%E8%B0%88/" title="分类于 杂谈">杂谈</a> <i class="ic i-angle-right"></i> <a href="/categories/%E6%9D%82%E8%B0%88/%E4%B9%A6%E5%BD%B1%E9%9F%B3/" title="分类于 书影音">书影音</a></div><span><a href="/2022/09/07/thoughts/%E6%AC%A2%E8%BF%8E%E6%9D%A5%E5%88%B0%E6%88%91%E7%9A%84%E4%B8%96%E7%95%8C/" title="欢迎来到我的世界">欢迎来到我的世界</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/NJUSE/" title="分类于 NJUSE">NJUSE</a> <i class="ic i-angle-right"></i> <a href="/categories/NJUSE/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E4%B8%8E%E7%BB%93%E6%9E%84/" title="分类于 计算机组成与结构">计算机组成与结构</a></div><span><a href="/2022/09/08/COA/Lecture01-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/" title="Lecture01-计算机系统概述">Lecture01-计算机系统概述</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%9D%82%E8%B0%88/" title="分类于 杂谈">杂谈</a> <i class="ic i-angle-right"></i> <a href="/categories/%E6%9D%82%E8%B0%88/%E4%B9%A6%E5%BD%B1%E9%9F%B3/" title="分类于 书影音">书影音</a></div><span><a href="/2022/09/17/thoughts/%E4%B8%89%E5%92%8C/" title="三和">三和</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/NJUSE/" title="分类于 NJUSE">NJUSE</a> <i class="ic i-angle-right"></i> <a href="/categories/NJUSE/cpp/" title="分类于 cpp">cpp</a></div><span><a href="/2022/09/22/cpp/105-STL/" title="105 STL">105 STL</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/NJUSE/" title="分类于 NJUSE">NJUSE</a> <i class="ic i-angle-right"></i> <a href="/categories/NJUSE/cpp/" title="分类于 cpp">cpp</a></div><span><a href="/2022/09/15/cpp/Lecture03-%E7%BB%93%E6%9E%84%E5%8C%96%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/" title="Lecture03-结构化程序设计">Lecture03-结构化程序设计</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/NJUSE/" title="分类于 NJUSE">NJUSE</a> <i class="ic i-angle-right"></i> <a href="/categories/NJUSE/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E4%B8%8E%E7%BB%93%E6%9E%84/" title="分类于 计算机组成与结构">计算机组成与结构</a></div><span><a href="/2022/09/15/COA/Lecture02-%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" title="Lecture02-计算机体系结构的问题及解决方案">Lecture02-计算机体系结构的问题及解决方案</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-quas-modo"></i> </span><span class="author" itemprop="copyrightHolder">quas-modo @ quas-modo</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">48k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">44 分钟</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2022/10/04/COA/Lecture050607-整数运算/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->