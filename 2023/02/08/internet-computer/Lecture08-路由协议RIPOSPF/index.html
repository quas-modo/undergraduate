<!-- build time:Wed Feb 08 2023 17:57:34 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Carpe diem" href="https://quas-modo.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="Carpe diem" href="https://quas-modo.github.io/atom.xml"><link rel="alternate" type="application/json" title="Carpe diem" href="https://quas-modo.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="计网"><link rel="canonical" href="https://quas-modo.github.io/2023/02/08/internet-computer/Lecture08-%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AERIPOSPF/"><title>Lecture08-路由协议RIPOSPF - 互联网计算 - NJUSE | quas-modo = Carpe diem = pluck the day</title><meta name="generator" content="Hexo 5.4.2"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Lecture08-路由协议RIPOSPF</h1><div class="meta"><span class="item" title="创建时间：2023-02-08 17:53:03"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2023-02-08T17:53:03+08:00">2023-02-08</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>5.7k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>5 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">quas-modo</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicljgocqbj20zk0m8e81.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipexe4oykj20zk0m87ji.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipeun65urj20zk0m81ii.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicitht3xtj20zk0m8k5v.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipetv6p75j20zk0m8x6p.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclh3brzpj20zk0m8ann.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/NJUSE/" itemprop="item" rel="index" title="分类于 NJUSE"><span itemprop="name">NJUSE</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/NJUSE/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/" itemprop="item" rel="index" title="分类于 互联网计算"><span itemprop="name">互联网计算</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://quas-modo.github.io/2023/02/08/internet-computer/Lecture08-%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AERIPOSPF/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="quas-modo"><meta itemprop="description" content="pluck the day, notes/thoughts/nonsense"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Carpe diem"></span><div class="body md" itemprop="articleBody"><h1 id="lecture08-路由协议rip-ospf"><a class="anchor" href="#lecture08-路由协议rip-ospf">#</a> Lecture08 - 路由协议 RIP、OSPF</h1><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_01.jpg" alt="第8讲：路由协议rip,ospf_页面_01"></p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_02.jpg" alt="第8讲：路由协议rip,ospf_页面_02"></p><h2 id="rip"><a class="anchor" href="#rip">#</a> RIP</h2><h3 id="rip历史"><a class="anchor" href="#rip历史">#</a> RIP 历史</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_03.jpg" alt="第8讲：路由协议rip,ospf_页面_03"></p><p>RIP v1 被认为是一种<strong>内部网关协议</strong>。</p><ol><li>RIP v1 是一种距离向量协议，它以预定间隔将其整个路由表广播到每个邻居路由器。默认间隔为<strong> 30 秒</strong>。</li><li>RIP 使用<strong>跳数</strong>作为度量标准，最大跳数为<strong> 15</strong>，达到 16 跳的报文自动抛弃。</li></ol><p>RIP v1 能够在多达六个等价路径上进行<strong>负载平衡 (Load Balancing)</strong>，默认情况下为四个路径，最多 6 个，跳数相同才能完成负载均衡，跳数不同不满足条件</p><p>RIP 最初是在 RFC 1058 中指定的</p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_04.jpg" alt="第8讲：路由协议rip,ospf_页面_04"></p><p>RIP v1 具有以下限制：</p><ol><li>它不会在其更新中发送子网掩码信息：意味着必须用同样的子网掩码，不支持 VLSM 或无类域间路由 (CIDR，Classless Interdomain Routing)。</li><li>它以 255.255.255.255 的广播形式发送更新：只能发给邻居，不能通过路由器转发。</li><li>它不支持身份验证 (authentication): 只要启动 RIP 就可以接受到信息，也就意味着只要接入网络并且启动 RIP 进程，就可以了解到整个网络拓扑</li></ol><h3 id="rip配置"><a class="anchor" href="#rip配置">#</a> RIP 配置</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_05.jpg" alt="第8讲：路由协议rip,ospf_页面_05"></p><p><code>router rip</code> 命令选择 RIP 作为路由协议。</p><p>network 命令分配基于 NIC 的网络地址，路由器将直接连接到该网络地址</p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_06.jpg" alt="第8讲：路由协议rip,ospf_页面_06"></p><p>routerA 启用端口，可以简化为 <code>1.0.0.0</code> <code>2.0.0.0</code></p><h3 id="rip-v2"><a class="anchor" href="#rip-v2">#</a> RIP v2</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_07.jpg" alt="第8讲：路由协议rip,ospf_页面_07"></p><p>RIP v2 是 RIP v1 的改进版本，并且新增了以下的功能：</p><ol><li>这是一种使用<strong>跳数指标</strong>的距离矢量协议。</li><li>它使用<strong>抑制计时器</strong>来防止路由循环 - 默认值为<strong> 180 秒</strong>，6 倍于交换时间</li><li>它使用水平分割 (Split Horizon) 来防止路由循环 (Routing Loops)。</li><li>它使用 16 跳作为<strong>无限距离的度量</strong>。(15 跳及以内可达)</li></ol><h3 id="ripv1-与-ripv2的比较"><a class="anchor" href="#ripv1-与-ripv2的比较">#</a> RIPv1 与 RIPv2 的比较</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_08.jpg" alt="第8讲：路由协议rip,ospf_页面_08"></p><p>V2 和 V1 不同的特点:</p><ol><li>支持有类路由：可以携带子网掩码</li><li>使用主播地址 <code>244.0.0.9</code> 进行发送广播：特定给 RIP 接受，避免了接受后发现没有启动 RIP 进程耽误时间</li><li>需要身份认证才确定是否继续进行接收。</li></ol><h3 id="ripv2-配置"><a class="anchor" href="#ripv2-配置">#</a> RIPv2 配置</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_09.jpg" alt="第8讲：路由协议rip,ospf_页面_09"></p><p>network 命令导致实现以下三个功能：</p><ol><li>路由更新从接口多播。</li><li>如果路由更新进入相同的界面，则将对其进行处理。</li><li>广播直接连接到该接口的子网。</li></ol><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_10.jpg" alt="第8讲：路由协议rip,ospf_页面_10"></p><p>需要设置 version2</p><h3 id="验证和故障排除"><a class="anchor" href="#验证和故障排除">#</a> 验证和故障排除</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_11.jpg" alt="第8讲：路由协议rip,ospf_页面_11"></p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_12.jpg" alt="第8讲：路由协议rip,ospf_页面_12"></p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_13.jpg" alt="第8讲：路由协议rip,ospf_页面_13"></p><ol><li>The debug ip ripcommand displays RIP routing updates as they are sent and received. In this example, the update is sent by 183.8.128.130. debug ip rip 命令显示 RIP 路由更新的发送和接收。 在本示例中，更新是通过 183.8.128.130 发送的。</li><li>It reported on three routers, one of which is inaccessible because its hop count is greater than 15. Updates were then broadcast through 183.8.128.2. 它报告了三台路由器，其中一台无法访问，因为其跳数大于 15。然后通过 183.8.128.2 广播了更新。</li></ol><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_14.jpg" alt="第8讲：路由协议rip,ospf_页面_14"></p><p>120/1：表示 1 跳到达，120/2：表示 2 跳到达</p><h2 id="ospf-open-shortest-path-first"><a class="anchor" href="#ospf-open-shortest-path-first">#</a> OSPF Open Shortest Path First</h2><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_16.jpg" alt="第8讲：路由协议rip,ospf_页面_16"></p><p>开放最短路径优先 (OSPF，Open Shortest Path First) 是基于开放标准的链路状态路由协议。</p><p>It is described in several standards of the Internet Engineering Task Force (IETF) Internet 网络工程任务组 (IETF，Internet Engineering Task Force) 的多个标准中对此进行了描述：The most recent description is RFC 2328. 最新的描述是 RFC 2328。(已经不是最新的了)</p><p>与 RIP v1 和 RIP v2 相比，OSPF 正在成为首选的 IGP 协议，因为它具有可伸缩性。</p><p>和 RIP 相比优势比较大，很多网络公司在研究 OSPF 的优化。</p><h3 id="路由信息"><a class="anchor" href="#路由信息">#</a> 路由信息</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_17.jpg" alt="第8讲：路由协议rip,ospf_页面_17"></p><ol><li>链接的状态是对接口及其与其相邻路由器的关系的描述。</li><li>链接状态的集合形成一个<strong>链接状态数据库</strong>，有时也称为<strong>拓扑数据库</strong>。</li><li>路由器应用<strong> Dijkstra 最短路径优先</strong> (SPF) 算法来构建以自己为根的 SPF 树。</li><li>路由器通过 SPF 树计算最佳路径，然后选择最佳路径并将其放置在<strong>路由表</strong>中。</li></ol><h3 id="ospf-vs-rip"><a class="anchor" href="#ospf-vs-rip">#</a> OSPF vs RIP</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_18.jpg" alt="第8讲：路由协议rip,ospf_页面_18"></p><p>用于大型网络，基于带宽，可以分层 (将网络划分成 2 层)，收敛更快，支持多路负载均衡</p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_19.jpg" alt="第8讲：路由协议rip,ospf_页面_19"></p><ul><li>上面带宽大，2 跳达到，下面带宽小，1 跳到达。</li><li>OSPF 从上面走，RIP 从下面走，但是上面会快一些</li></ul><h3 id="ospf-特征"><a class="anchor" href="#ospf-特征">#</a> OSPF 特征</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_20.jpg" alt="第8讲：路由协议rip,ospf_页面_20"></p><ol><li>OSPF 的特征克服了这些限制<ol><li>更健壮</li><li>更具可扩展性</li></ol></li><li>大型 OSPF 网络使用分层设计。<ol><li>将大的网络分成多个 area，每一个 area 只和 area 0 相连，保证 area 没有回路</li><li>层次最多只有 2 个，一个 area 就是 area 0。</li><li>层次维持树的关系</li></ol></li></ol><h3 id="ospf术语"><a class="anchor" href="#ospf术语">#</a> OSPF 术语</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_21.jpg" alt="第8讲：路由协议rip,ospf_页面_21"></p><p>Link: 两个设备之间的物理链路</p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_22.jpg" alt="第8讲：路由协议rip,ospf_页面_22"></p><ul><li>Neighbors: 相邻的路由器</li><li>Link-State: 物理链路的信息：路由器连接关系、通过什么接口、链路带宽、网络类型 (点对点、多路复用) 等</li><li>不同网络类型处理代价不同</li></ul><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_23.jpg" alt="第8讲：路由协议rip,ospf_页面_23"></p><p>Cost: 不同网络链路处理的时候的代价，和链路带宽相关，成反比关系，一般是固定值除以带宽</p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_24.jpg" alt="第8讲：路由协议rip,ospf_页面_24"></p><p>Area: 一个有很多路由器的端口都属于的区域 (相同)</p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_25.jpg" alt="第8讲：路由协议rip,ospf_页面_25"></p><p>Autonomous System: 多个 Area 形成一个自治系统</p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_26.jpg" alt="第8讲：路由协议rip,ospf_页面_26"></p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_27.jpg" alt="第8讲：路由协议rip,ospf_页面_27"></p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_28.jpg" alt="第8讲：路由协议rip,ospf_页面_28"></p><ul><li>Neighbours 必须在一个 Area 中才算是，Neighbour 之间交换 Topology Databases</li><li>一个 Area 中获得全部 LS (Link State) 后计算 Tree，生成表</li></ul><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_29.jpg" alt="第8讲：路由协议rip,ospf_页面_29"></p><ul><li>DR: 指定路由器，只有在多路复用的情况下使用</li><li>BDR: 如果 DR 坏了，再次选举会出现问题，如果 DR 损坏，BDR 立即成为 DR</li></ul><h3 id="opsf域"><a class="anchor" href="#opsf域">#</a> OPSF 域</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_30.jpg" alt="第8讲：路由协议rip,ospf_页面_30"></p><ol><li>区域用 32 位数字标识<ol><li>可以是 IP 格式，也可以是一个十进制值</li><li>区域 0 或区域 0.0.0.0</li></ol></li><li>区域 0：区域编号为 0 的单个区域</li><li>OSPF 使用 2 级分层模型：逻辑上必须是 2 层结构，而物理实现上可能有一定的差异，如果更多需要进行逻辑配置。</li><li>在多区域 OSPF 网络中，要求所有区域都连接到区域 0 (主干)</li><li>Example:Area 是和端口相关 (注意端口)</li></ol><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_31.jpg" alt="第8讲：路由协议rip,ospf_页面_31"></p><h3 id="ospf行为"><a class="anchor" href="#ospf行为">#</a> OSPF 行为</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_32.jpg" alt="第8讲：路由协议rip,ospf_页面_32"></p><ol><li>OSPF 使用邻居的邻接关系 (Adjacencies) 来全面了解网络。</li><li>OSPF 操作包括五个步骤：<ol><li>步骤 1：建立邻接关系</li><li>步骤 2：选择 DR 和 BDR (如果需要): 多路复用的时候才需要</li><li>步骤 3：发现路线</li><li>步骤 4：选择适当的路线</li><li>步骤 5：维护路线信息</li></ol></li><li>OSPF 具有七个状态。简而言之，它们是：<ol><li>Init, 2Way, Ex Start, Exchange, Loading, Full</li><li>初始化，双向操作，预先启动，交换，加载，完成</li></ol></li></ol><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_33.jpg" alt="第8讲：路由协议rip,ospf_页面_33"></p><h3 id="选择dr和bdr"><a class="anchor" href="#选择dr和bdr">#</a> 选择 DR 和 BDR</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_34.jpg" alt="第8讲：路由协议rip,ospf_页面_34"></p><p>OSPF 网络类型</p><ol><li>广播多路复用网络，例如以太网</li><li>点对点网络</li><li>非广播多路复用网络 (NBMA, Nonbroadcasr multi-access)</li></ol><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_35.jpg" alt="第8讲：路由协议rip,ospf_页面_35"></p><p>只有多路复用才需要选择 DR 和 BDR</p><p>原先，每一个都要建立 10 (5 * 4/2) 个链接，如果有了 DR 就只需要 4 个连接</p><p>对于所有 OSPF 路由器，DR 使用 224.0.0.5 (自己的 IP) 的<strong>主播地址</strong>向该网段上的所有其他路由器发送链接状态信息。</p><p>为确保 DR/BDR 看到所有路由器在网段上发送的链接状态，使用了所有 DR/BDR 的多播地址 224.0.0.6。(DR 和 BDR 之间）</p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_36.jpg" alt="第8讲：路由协议rip,ospf_页面_36"></p><h3 id="ospf报文"><a class="anchor" href="#ospf报文">#</a> OSPF 报文</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_37.jpg" alt="第8讲：路由协议rip,ospf_页面_37"></p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_38.jpg" alt="第8讲：路由协议rip,ospf_页面_38"></p><p>包，并继续以固定的时间间隔 (intervals) 发送 hello。</p><p>控制 (govern) OSPF hello 数据包交换的规则称为 Hello 协议。</p><p>Hello 数据包的地址为 224.0.0.5。</p><p>默认情况下，广播多路访问和点对点网络上<strong>每 10 秒</strong>发送一次 Hello 报文。</p><p>在连接到 NBMA 网络的接口 (例如帧中继) 上，默认时间是 30 秒。</p><p>保持心跳，确定还活着。Hello 几乎是空报文，给所有跑 OSPF 的路由器发送</p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_39.jpg" alt="第8讲：路由协议rip,ospf_页面_39"></p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_40.jpg" alt="第8讲：路由协议rip,ospf_页面_40"></p><h3 id="哪个路由器将成为dr"><a class="anchor" href="#哪个路由器将成为dr">#</a> 哪个路由器将成为 DR？</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_41.jpg" alt="第8讲：路由协议rip,ospf_页面_41"></p><ol><li>优先级 + 路由器 ID，最大的是 DR，第二大的是 BDR。</li><li>优先级：1-255，默认值：1</li><li>路由器 ID<ol><li>环回 IP 地址 (逻辑端口)，避免端口宕机出现问题。</li><li>如果没有环回 IP 地址，则接口 IP 为最高值地址 (Active 的端口上的 IP 作为参考)</li><li>如果接口出现故障，则路由器必须重新建立邻接关系并重新转换 (readvertising) LSA</li></ol></li></ol><h3 id="ospf机制"><a class="anchor" href="#ospf机制">#</a> OSPF 机制</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_42.jpg" alt="第8讲：路由协议rip,ospf_页面_42"></p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_43.jpg" alt="第8讲：路由协议rip,ospf_页面_43"></p><ul><li>准备交换数据库 (Exstart Starts)</li><li>首先确认主方 (发送方)、从方 (接受方)，保证数据有序，简单就是谁的 Router ID 高</li><li>Router ID 高的 (主方) 发送自己 DBD 报文，从方对主方发送的 DBD 接受处理并发送</li></ul><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_44.jpg" alt="第8讲：路由协议rip,ospf_页面_44"></p><p>交换完成后，各自检查自己是不是有全部的信息</p><ul><li>如果有完整的信息，则发送 LSAck</li><li>如果发现有没有的，则发送 LSR，等待 LSU (整个链路的详细信息，不是 LSA) 来进行学习，之后收到完成后发送 LSAck</li></ul><h3 id="ospf操作"><a class="anchor" href="#ospf操作">#</a> OSPF 操作</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_45.jpg" alt="第8讲：路由协议rip,ospf_页面_45"></p><h4 id="建立邻接关系"><a class="anchor" href="#建立邻接关系">#</a> 建立邻接关系</h4><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_46.jpg" alt="第8讲：路由协议rip,ospf_页面_46"></p><p>路由器每隔一段时间发送一次 hello 数据包，Hello 报文的 TTL 是 1，表明不会跨路由传播。</p><p>如果邻居被发现了：将邻居添加到邻居数据库</p><p>发现网络类型</p><ol><li>如果是多路复用网络，进入 DR/BDR 选举过程，然后进入步骤 2。</li><li>如果是点对点或点对多点网络，则不会举行 DR/BDR 选举过程，并跳过步骤 2。</li><li>如果 hello 数据包标头中的 DR/BDR 字段已被占用 (即 DR / BDR 对已经存在)，则不会进行 DR/BDR 选举，并跳过步骤 2。</li></ol><p>如果对方的 DP/BDP 优于我的 DP/BDP，则接受对方的</p><h4 id="选举dr和bdr"><a class="anchor" href="#选举dr和bdr">#</a> 选举 DR 和 BDR</h4><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_47.jpg" alt="第8讲：路由协议rip,ospf_页面_47"></p><ol><li>如果没有其他路由器联机，则该路由器将成为 DR。下一个要 &quot;启动&quot; 的路由器将是 BDR。</li><li>如果多个路由器 (两个或更多) 同时联机，则<ol><li>优先级最高的路由器成为 DR：优先级为零表示 &quot;从不 DR&quot;</li><li>如果存在平局，则具有最高路由器 ID 的路由器将成为 DR：路由器 ID 是最高的环回或接口 IP 地址</li><li>具有第二高优先级或路由器 ID 的路由器成为 BDR</li></ol></li></ol><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_48.jpg" alt="第8讲：路由协议rip,ospf_页面_48"></p><ol><li>如果 DR 无效，则 BDR 变为 DR。</li><li>然而<ol><li>如果新的 OSPF 路由器以更高的优先级或路由器 ID 加入网络，则当前的 DR 和 BDR<strong> 不会更改</strong>。</li><li>仅当当前 DR 失败时，它才成为新的 BDR；或者仅当当前 DR 和 BDR 失败时，才成为新的 DR。</li></ol></li></ol><h4 id="发现路线"><a class="anchor" href="#发现路线">#</a> 发现路线</h4><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_49.jpg" alt="第8讲：路由协议rip,ospf_页面_49"></p><ol><li>这一步从 Ex Start 状态转换到完整状态</li><li>路由器确定 &quot;主 / 从 (master/slave)&quot; 关系</li><li>多路复用网络中的 DR/BDR 交换 LSA，并且所有其他 DR 将其 Type 2 DBD 发送给 DR/BDR。</li><li>如有必要，路由器可以通过发送请求更多信息的 LSR 进入负载状态：所有路由器必须在 &quot;加载状态&quot; 中等待，直到完全更新请求的路由器。</li><li>路由器现在进入完整状态</li></ol><h4 id="选择适当的路线"><a class="anchor" href="#选择适当的路线">#</a> 选择适当的路线</h4><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_50.jpg" alt="第8讲：路由协议rip,ospf_页面_50"></p><p>现在，将与网络上的所有其他路由器并行地计算 SPF 算法。</p><ol><li>切记：在发生这种情况之前，所有路由器必须具有相同的链接状态数据库。</li><li>SPF 使用 Cost 作为指标</li><li>SPF 将从其自身到目的地的每条路径的成本相加，并以路由器为根来构建树</li><li>OSPF 然后在路由表中安装成本最低的路径：最多将安装 4 条等价路径以进行负载共享</li></ol><h4 id="维护路由信息"><a class="anchor" href="#维护路由信息">#</a> 维护路由信息</h4><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_51.jpg" alt="第8讲：路由协议rip,ospf_页面_51"></p><ol><li>常规的 Hello 交换是 OSPF 用于检测新邻居或故障 (downed) 邻居的机制。</li><li>根据网络的类型，Hello 数据包以不同的默认间隔发送。(确定对方是不是还好)<ol><li>对于速度为 T1 (1.544 Mbps) 或更高的链接，每 10 秒：广播多路访问和点对点链接</li><li>对于小于 T1 的链接，每 30 秒：非广播多路访问链接</li><li>&quot;死间隔&quot; 是问候间隔的四倍。(如果在这样子对方还没有成功则对方死了)</li></ol></li></ol><h3 id="链路状态出现变化"><a class="anchor" href="#链路状态出现变化">#</a> 链路状态出现变化</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_52.jpg" alt="第8讲：路由协议rip,ospf_页面_52"></p><ul><li>Router A tells all OSPF DRs on 224.0.0.6</li><li>Event 触发交换：比如 A 连接的网段断掉了</li><li>A 使用 LSU 告知<strong> DR</strong></li></ul><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_53.jpg" alt="第8讲：路由协议rip,ospf_页面_53"></p><ul><li>DR tells others on 224.0.0.5</li><li>DR 通过 LSU 告知所有的路由器</li></ul><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_54.jpg" alt="第8讲：路由协议rip,ospf_页面_54"></p><p>如果 B 连接了别的 Area，则继续进行交换</p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_55.jpg" alt="第8讲：路由协议rip,ospf_页面_55"></p><p>所有的路由信息交换完毕后，同时更新路由表</p><h3 id="基本的ospf配置"><a class="anchor" href="#基本的ospf配置">#</a> 基本的 OSPF 配置</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_56.jpg" alt="第8讲：路由协议rip,ospf_页面_56"></p><ol><li>在路由器上启动 OSPF<ol><li><code>Router (config)# router ospf process-id</code></li><li>进程号:process-id<ol><li>取值: 1 ~ 65535</li><li>在一台路由器上识别多个 OSPF 进程</li><li>通常在整个 AS (自治系统) 中保持相同的进程 ID</li></ol></li></ol></li><li>在路由器上识别 IP 网络<ol><li><code>Router (config-router) # network address wildcardmask area area-id</code></li><li>网络地址可以是整个网络，子网或接口的地址。</li><li>address:IP 地址</li></ol></li></ol><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_57.jpg" alt="第8讲：路由协议rip,ospf_页面_57"></p><ul><li>只有一个 Area，则为 0</li><li><strong>Wild-card Mask 和子网掩码相反</strong>：子网掩码是 255.255.255.0，则 Wild-card Address 就是 0.0.0.255</li><li>写 IP 和写网段最后都是一样的</li></ul><h3 id="配置回路地址"><a class="anchor" href="#配置回路地址">#</a> 配置回路地址</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_58.jpg" alt="第8讲：路由协议rip,ospf_页面_58"></p><p>为 OSPF 路由器 ID 添加稳定性</p><ol><li>必须在 OSPF 进程开始之<strong>前</strong>配置回环接口：会涉及到主从关系确定和 DR 的选举</li><li>配置环回地址时，请使用 / 32 掩码以避免潜在的路由问题</li><li>I 建议您在基于 OSPF 的网络中的所有关键路由器上使用环回地址 (专用或公用地址)。</li><li>一旦配置立刻生效，不需要 no shutdown 的命令即可</li></ol><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_59.jpg" alt="第8讲：路由协议rip,ospf_页面_59"></p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_60.jpg" alt="第8讲：路由协议rip,ospf_页面_60"></p><p>操纵 DR/BDR 选举</p><ol><li><code>Router (config-if) # ip ospf priority number</code></li><li>优先级：越大越高<ol><li>值：0-255, 默认为 1</li><li>优先级 0 表示接口不能被选为 DR 或 BDR</li></ol></li></ol><p>操作 OSPF 的端口的优先级： <code>Router # show ip ospf [interface type number]</code></p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_61.jpg" alt="第8讲：路由协议rip,ospf_页面_61"></p><h3 id="osof成本-标准"><a class="anchor" href="#osof成本-标准">#</a> OSOF 成本 = 标准</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_62.jpg" alt="第8讲：路由协议rip,ospf_页面_62"></p><ol><li>Cost 适用于所有路由器连接路径</li><li>16 位数字 (1 – 65,535)</li><li>较低的 Cost-&gt; 更理想</li><li>路径决定是基于路径的总成本。</li><li>指标受到带宽的影响</li><li>用一个很大的数字去除以当前的带宽得到代价，计算方法如下</li></ol><h3 id="ospf-path-cost"><a class="anchor" href="#ospf-path-cost">#</a> OSPF Path Cost</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_63.jpg" alt="第8讲：路由协议rip,ospf_页面_63"></p><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_64.jpg" alt="第8讲：路由协议rip,ospf_页面_64"></p><ol><li>需要更改成本的常见情况是在多供应商 (multi-vendor) 路由环境中。成本更改将确保一个供应商的成本值与另一供应商的成本值匹配。</li><li>另一种情况是使用千兆以太网。默认成本将最低成本值 1 分配给 100 Mbps 链路。</li></ol><h3 id="设置ospf计时器"><a class="anchor" href="#设置ospf计时器">#</a> 设置 OSPF 计时器</h3><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_65.jpg" alt="第8讲：路由协议rip,ospf_页面_65"></p><p>OSPF 区域中的所有路由器必须在相同的 hello 间隔和相同的死间隔上达成一致，默认情况下：</p><ol><li>T1 或更高链接 (广播) 为 10 秒</li><li>慢于 T1 的链接为 30 秒 (非广播)</li><li>死亡间隔 = <strong>4</strong> * 问候间隔</li></ol><p><img data-src="https://quasdo.oss-cn-hangzhou.aliyuncs.com/img/%E7%AC%AC8%E8%AE%B2%EF%BC%9A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip,ospf_%E9%A1%B5%E9%9D%A2_66.jpg" alt="第8讲：路由协议rip,ospf_页面_66"></p><div class="tags"><a href="/tags/%E8%AE%A1%E7%BD%91/" rel="tag"><i class="ic i-tag"></i> 计网</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-02-08 17:56:32" itemprop="dateModified" datetime="2023-02-08T17:56:32+08:00">2023-02-08</time> </span><span id="2023/02/08/internet-computer/Lecture08-路由协议RIPOSPF/" class="item leancloud_visitors" data-flag-title="Lecture08-路由协议RIPOSPF" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.jpg" alt="quas-modo 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.jpg" alt="quas-modo 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="quas-modo 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>quas-modo <i class="ic i-at"><em>@</em></i>Carpe diem</li><li class="link"><strong>本文链接：</strong> <a href="https://quas-modo.github.io/2023/02/08/internet-computer/Lecture08-%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AERIPOSPF/" title="Lecture08-路由协议RIPOSPF">https://quas-modo.github.io/2023/02/08/internet-computer/Lecture08-路由协议RIPOSPF/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/02/08/internet-computer/Lecture07-%E8%B7%AF%E7%94%B1%E5%99%A8/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclgrvbd6j20zk0m8qv5.jpg" title="Lecture07-路由器"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 互联网计算</span><h3>Lecture07-路由器</h3></a></div><div class="item right"><a href="/2023/02/08/internet-computer/Lecture09-%E5%B1%80%E5%9F%9F%E7%BD%91%E4%BA%A4%E6%8D%A2%E5%92%8Cvlan/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipesrnqv3j20zk0m8ava.jpg" title="Lecture09-局域网交换和vlan"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 互联网计算</span><h3>Lecture09-局域网交换和vlan</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#lecture08-%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AErip-ospf"><span class="toc-number">1.</span> <span class="toc-text">Lecture08 - 路由协议 RIP、OSPF</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#rip"><span class="toc-number">1.1.</span> <span class="toc-text">RIP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#rip%E5%8E%86%E5%8F%B2"><span class="toc-number">1.1.1.</span> <span class="toc-text">RIP 历史</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rip%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.2.</span> <span class="toc-text">RIP 配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rip-v2"><span class="toc-number">1.1.3.</span> <span class="toc-text">RIP v2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ripv1-%E4%B8%8E-ripv2%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">1.1.4.</span> <span class="toc-text">RIPv1 与 RIPv2 的比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ripv2-%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.5.</span> <span class="toc-text">RIPv2 配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E5%92%8C%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4"><span class="toc-number">1.1.6.</span> <span class="toc-text">验证和故障排除</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ospf-open-shortest-path-first"><span class="toc-number">1.2.</span> <span class="toc-text">OSPF Open Shortest Path First</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF"><span class="toc-number">1.2.1.</span> <span class="toc-text">路由信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospf-vs-rip"><span class="toc-number">1.2.2.</span> <span class="toc-text">OSPF vs RIP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospf-%E7%89%B9%E5%BE%81"><span class="toc-number">1.2.3.</span> <span class="toc-text">OSPF 特征</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospf%E6%9C%AF%E8%AF%AD"><span class="toc-number">1.2.4.</span> <span class="toc-text">OSPF 术语</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#opsf%E5%9F%9F"><span class="toc-number">1.2.5.</span> <span class="toc-text">OPSF 域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospf%E8%A1%8C%E4%B8%BA"><span class="toc-number">1.2.6.</span> <span class="toc-text">OSPF 行为</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9dr%E5%92%8Cbdr"><span class="toc-number">1.2.7.</span> <span class="toc-text">选择 DR 和 BDR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospf%E6%8A%A5%E6%96%87"><span class="toc-number">1.2.8.</span> <span class="toc-text">OSPF 报文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%AA%E4%B8%AA%E8%B7%AF%E7%94%B1%E5%99%A8%E5%B0%86%E6%88%90%E4%B8%BAdr"><span class="toc-number">1.2.9.</span> <span class="toc-text">哪个路由器将成为 DR？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospf%E6%9C%BA%E5%88%B6"><span class="toc-number">1.2.10.</span> <span class="toc-text">OSPF 机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospf%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.11.</span> <span class="toc-text">OSPF 操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E9%82%BB%E6%8E%A5%E5%85%B3%E7%B3%BB"><span class="toc-number">1.2.11.1.</span> <span class="toc-text">建立邻接关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E4%B8%BEdr%E5%92%8Cbdr"><span class="toc-number">1.2.11.2.</span> <span class="toc-text">选举 DR 和 BDR</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%91%E7%8E%B0%E8%B7%AF%E7%BA%BF"><span class="toc-number">1.2.11.3.</span> <span class="toc-text">发现路线</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E9%80%82%E5%BD%93%E7%9A%84%E8%B7%AF%E7%BA%BF"><span class="toc-number">1.2.11.4.</span> <span class="toc-text">选择适当的路线</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%B4%E6%8A%A4%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF"><span class="toc-number">1.2.11.5.</span> <span class="toc-text">维护路由信息</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E5%87%BA%E7%8E%B0%E5%8F%98%E5%8C%96"><span class="toc-number">1.2.12.</span> <span class="toc-text">链路状态出现变化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%9A%84ospf%E9%85%8D%E7%BD%AE"><span class="toc-number">1.2.13.</span> <span class="toc-text">基本的 OSPF 配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%9B%9E%E8%B7%AF%E5%9C%B0%E5%9D%80"><span class="toc-number">1.2.14.</span> <span class="toc-text">配置回路地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#osof%E6%88%90%E6%9C%AC-%E6%A0%87%E5%87%86"><span class="toc-number">1.2.15.</span> <span class="toc-text">OSOF 成本 &#x3D; 标准</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ospf-path-cost"><span class="toc-number">1.2.16.</span> <span class="toc-text">OSPF Path Cost</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEospf%E8%AE%A1%E6%97%B6%E5%99%A8"><span class="toc-number">1.2.17.</span> <span class="toc-text">设置 OSPF 计时器</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2022/09/08/internet-computer/Lecture01-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/" rel="bookmark" title="Lecture01-计算机网络概述">Lecture01-计算机网络概述</a></li><li><a href="/2022/10/07/internet-computer/Lecture02-%E7%89%A9%E7%90%86%E5%B1%82/" rel="bookmark" title="Lecture02-物理层">Lecture02-物理层</a></li><li><a href="/2023/02/08/internet-computer/Lecture03-%E9%93%BE%E8%B7%AF%E5%B1%82/" rel="bookmark" title="Lecture03-链路层">Lecture03-链路层</a></li><li><a href="/2023/02/08/internet-computer/Lecture04-%E7%BD%91%E7%BB%9C%E5%B1%82/" rel="bookmark" title="Lecture04-网络层">Lecture04-网络层</a></li><li><a href="/2023/02/08/internet-computer/Lecture05-%E4%BC%A0%E8%BE%93%E5%B1%82/" rel="bookmark" title="Lecture05-传输层">Lecture05-传输层</a></li><li><a href="/2023/02/08/internet-computer/Lecture06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/" rel="bookmark" title="Lecture06-会话、表示、应用层">Lecture06-会话、表示、应用层</a></li><li><a href="/2023/02/08/internet-computer/Lecture07-%E8%B7%AF%E7%94%B1%E5%99%A8/" rel="bookmark" title="Lecture07-路由器">Lecture07-路由器</a></li><li class="active"><a href="/2023/02/08/internet-computer/Lecture08-%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AERIPOSPF/" rel="bookmark" title="Lecture08-路由协议RIPOSPF">Lecture08-路由协议RIPOSPF</a></li><li><a href="/2023/02/08/internet-computer/Lecture09-%E5%B1%80%E5%9F%9F%E7%BD%91%E4%BA%A4%E6%8D%A2%E5%92%8Cvlan/" rel="bookmark" title="Lecture09-局域网交换和vlan">Lecture09-局域网交换和vlan</a></li><li><a href="/2023/02/08/internet-computer/Lecture10-%E5%B9%BF%E5%9F%9F%E7%BD%91/" rel="bookmark" title="Lecture10-广域网">Lecture10-广域网</a></li><li><a href="/2023/02/08/internet-computer/Lecture11-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" rel="bookmark" title="Lecture11-网络安全">Lecture11-网络安全</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="quas-modo" data-src="/images/avatar.jpg"><p class="name" itemprop="name">quas-modo</p><div class="description" itemprop="description">notes/thoughts/nonsense</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">51</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">12</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">8</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3F1YXMtbW9kbw==" title="https:&#x2F;&#x2F;github.com&#x2F;quas-modo"><i class="ic i-github"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2023/02/08/internet-computer/Lecture07-%E8%B7%AF%E7%94%B1%E5%99%A8/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2023/02/08/internet-computer/Lecture09-%E5%B1%80%E5%9F%9F%E7%BD%91%E4%BA%A4%E6%8D%A2%E5%92%8Cvlan/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/NJUSE/" title="分类于 NJUSE">NJUSE</a> <i class="ic i-angle-right"></i> <a href="/categories/NJUSE/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/" title="分类于 互联网计算">互联网计算</a></div><span><a href="/2023/02/08/internet-computer/Lecture07-%E8%B7%AF%E7%94%B1%E5%99%A8/" title="Lecture07-路由器">Lecture07-路由器</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/NJUSE/" title="分类于 NJUSE">NJUSE</a> <i class="ic i-angle-right"></i> <a href="/categories/NJUSE/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/" title="分类于 互联网计算">互联网计算</a></div><span><a href="/2023/02/08/internet-computer/Lecture10-%E5%B9%BF%E5%9F%9F%E7%BD%91/" title="Lecture10-广域网">Lecture10-广域网</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/NJUSE/" title="分类于 NJUSE">NJUSE</a> <i class="ic i-angle-right"></i> <a href="/categories/NJUSE/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="分类于 数据结构">数据结构</a></div><span><a href="/2022/12/05/dataStructure/Lecture05-Hash/" title="Lecture05-Hash">Lecture05-Hash</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/NJUSE/" title="分类于 NJUSE">NJUSE</a> <i class="ic i-angle-right"></i> <a href="/categories/NJUSE/cpp/" title="分类于 cpp">cpp</a></div><span><a href="/2022/09/29/cpp/Lecture06-%E5%87%BD%E6%95%B0/" title="Lecture06-函数">Lecture06-函数</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/NJUSE/" title="分类于 NJUSE">NJUSE</a> <i class="ic i-angle-right"></i> <a href="/categories/NJUSE/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E4%B8%8E%E7%BB%93%E6%9E%84/" title="分类于 计算机组成与结构">计算机组成与结构</a></div><span><a href="/2022/11/15/COA/Lecture09-%E5%A4%96%E9%83%A8%E5%AD%98%E5%82%A8%E5%99%A8/" title="Lecture09-外部存储器">Lecture09-外部存储器</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%9D%82%E8%B0%88/" title="分类于 杂谈">杂谈</a> <i class="ic i-angle-right"></i> <a href="/categories/%E6%9D%82%E8%B0%88/%E4%B9%A6%E5%BD%B1%E9%9F%B3/" title="分类于 书影音">书影音</a></div><span><a href="/2022/09/07/thoughts/%E6%AC%A2%E8%BF%8E%E6%9D%A5%E5%88%B0%E6%88%91%E7%9A%84%E4%B8%96%E7%95%8C/" title="欢迎来到我的世界">欢迎来到我的世界</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%85%B6%E4%BB%96/" title="分类于 其他">其他</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%85%B6%E4%BB%96/%E8%A5%BF%E6%96%B9%E7%BE%8E%E6%9C%AF%E5%8F%B2/" title="分类于 西方美术史">西方美术史</a></div><span><a href="/2022/09/20/%E8%A5%BF%E6%96%B9%E7%BE%8E%E6%9C%AF%E5%8F%B2/Lecture01-%E5%8F%B2%E5%89%8D%E5%8F%8A%E5%9F%83%E5%8F%8A%E7%BE%8E%E6%9C%AF/" title="Lecture01 史前及埃及美术">Lecture01 史前及埃及美术</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/NJUSE/" title="分类于 NJUSE">NJUSE</a> <i class="ic i-angle-right"></i> <a href="/categories/NJUSE/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E4%B8%8E%E7%BB%93%E6%9E%84/" title="分类于 计算机组成与结构">计算机组成与结构</a></div><span><a href="/2022/12/02/COA/Lecture13-%E6%80%BB%E7%BA%BF/" title="Lecture13-总线">Lecture13-总线</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/NJUSE/" title="分类于 NJUSE">NJUSE</a> <i class="ic i-angle-right"></i> <a href="/categories/NJUSE/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/" title="分类于 互联网计算">互联网计算</a></div><span><a href="/2022/10/07/internet-computer/Lecture02-%E7%89%A9%E7%90%86%E5%B1%82/" title="Lecture02-物理层">Lecture02-物理层</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/NJUSE/" title="分类于 NJUSE">NJUSE</a> <i class="ic i-angle-right"></i> <a href="/categories/NJUSE/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/" title="分类于 互联网计算">互联网计算</a></div><span><a href="/2023/02/08/internet-computer/Lecture11-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" title="Lecture11-网络安全">Lecture11-网络安全</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-quas-modo"></i> </span><span class="author" itemprop="copyrightHolder">quas-modo @ quas-modo</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">159k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">2:25</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2023/02/08/internet-computer/Lecture08-路由协议RIPOSPF/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->